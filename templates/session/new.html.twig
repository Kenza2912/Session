{% extends 'base.html.twig' %}

{% block title %}Ajouter une session{% endblock %}


{% block body %}


    <div class="container">

		<h1 class="mt-4">Création d'une session </h1>

		{{ form_start(form) }}

			
			{# on va construire dynamiquement la liste des modules existants à partir de Program#}

			
			<div class="form-group">
				{{ form_label(form.nbPlaces) }}
				{{ form_widget(form.nbPlaces) }}
				<div class="form-error">
					{{ form_errors(form.nbPlaces) }}
				</div>
			</div>
			<div class="form-group">
				{{ form_label(form.startDate) }}
				{{ form_widget(form.startDate) }}
				<div class="form-error">
					{{ form_errors(form.startDate) }}
				</div>
			</div>
			
			<div class="form-group">
				{{ form_label(form.endDate) }}
				{{ form_widget(form.endDate) }}
				<div class="form-error">
					{{ form_errors(form.endDate) }}
				</div>
			</div>

			<h2>Programme de la Session</h2>

		<div class="form-group row ">
				<div id="program-fields-list" class="col-sm-10 remove-collection-widget"
				data-prototype="{{ form_widget(form.programs.vars.prototype)|e }}"
				data-session="{{sessionId}}"
				data-widget-tags="{{'<p></p>'|e}}"
				data-widget-counter="{{ form.programs|length }}">

			{% for programField in form.programs %}
				<p>
					{{ form_errors(programField) }}
					{{ form_widget(programField, {'attr': {'class': 'borders'}}) }}
				</p>
			{% endfor %}
			</div>
		</div>

			


			<div class="form-group">
				{{ form_row(form._token) }}
			</div>

			<div class="form-group row flex-action">
				<button type="button" 
				class="add-another-collection-widget button"
				data-list-selector="#program-fields-list">Ajout d'un programme</button>
			</div>
			
			{{ form_end(form) }} 
	</div>

	</div>
		

{% endblock %}
